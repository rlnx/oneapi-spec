

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.1.2.4.1. gemm_batch &mdash; oneAPI Specification 0.7 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script src="../../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="2.1.2.4.2. gemm_ext" href="gemm_ext.html" />
    <link rel="prev" title="2.1.2.3.18. trsm (USM Version)" href="trsm-usm-version.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dpcpp/source/index.html">DPC++ 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDPL/source/index.html">oneDPL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDNN/source/index.html">oneDNN 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneCCL/source/index.html">oneCCL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../l0/source/index.html">Level Zero 0.91</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDAL/source/index.html">oneDAL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneTBB/source/nested-index.html">oneTBB 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneVPL/source/index.html">oneVPL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">oneMKL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../../index.html">oneMKL 0.7</a> </li>
          
        
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneMKL/source/domains/blas/gemm_batch.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gemm-batch">
<h1><span class="section-number">2.1.2.4.1. </span>gemm_batch<a class="headerlink" href="#gemm-batch" title="Permalink to this headline">¶</a></h1>
<div class="docutils container">
<p>Computes groups of matrix-matrix product with general matrices.</p>
<div class="section docutils container" id="guid-7885d940-fac1-4f37-9e1c-a022ded99ebd">
<p class="sectiontitle rubric">Syntax</p>
<p><strong>Group API</strong></p>
<dl class="function">
<dt id="_CPPv410gemm_batchR5queueR6bufferI9transposeXL1EEER6bufferI9transposeXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEE6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEE6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEENSt7int64_tER6bufferINSt7int64_tEXL1EEE">
<span id="_CPPv310gemm_batchR5queueR6bufferI9transposeXL1EEER6bufferI9transposeXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEE6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEE6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEENSt7int64_tER6bufferINSt7int64_tEXL1EEE"></span><span id="_CPPv210gemm_batchR5queueR6bufferI9transposeX1EER6bufferI9transposeX1EER6bufferINSt7int64_tEX1EER6bufferINSt7int64_tEX1EER6bufferINSt7int64_tEX1EE6bufferI1TX1EER6bufferI1TX1EER6bufferINSt7int64_tEX1EER6bufferI1TX1EE6bufferINSt7int64_tEX1EER6bufferI1TX1EER6bufferI1TX1EER6bufferINSt7int64_tEX1EENSt7int64_tER6bufferINSt7int64_tEX1EE"></span><span id="gemm_batch__queueR.buffer:transpose.1:R.buffer:transpose.1:R.buffer:std::int64_t.1:R.buffer:std::int64_t.1:R.buffer:std::int64_t.1:R.buffer:T.1:.buffer:T.1:R.buffer:std::int64_t.1:R.buffer:T.1:R.buffer:std::int64_t.1:.buffer:T.1:R.buffer:T.1:R.buffer:std::int64_t.1:R.std::int64_t.buffer:std::int64_t.1:R"></span>void <code class="sig-name descname">gemm_batch</code><span class="sig-paren">(</span>queue &amp;<em>exec_queue</em>, buffer&lt;transpose, 1&gt; &amp;<em>transa_array</em>, buffer&lt;transpose, 1&gt; &amp;<em>transb_array</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>m_array</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>n_array</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>k_array</em>, buffer&lt;T, 1&gt; <em>alpha_array</em>, buffer&lt;T, 1&gt; &amp;<em>a_array</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>lda_array</em>, buffer&lt;T, 1&gt; &amp;<em>b_array</em>, buffer&lt;std::int64_t, 1&gt; <em>ldb_array</em>, buffer&lt;T, 1&gt; &amp;<em>beta_array</em>, buffer&lt;T, 1&gt; &amp;<em>c</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>ldc_array</em>, std::int64_t <em>group_count</em>, buffer&lt;std::int64_t, 1&gt; &amp;<em>group_size_array</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410gemm_batchR5queueR6bufferI9transposeXL1EEER6bufferI9transposeXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEER6bufferINSt7int64_tEXL1EEE6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEE6bufferINSt7int64_tEXL1EEER6bufferI1TXL1EEER6bufferI1TXL1EEER6bufferINSt7int64_tEXL1EEENSt7int64_tER6bufferINSt7int64_tEXL1EEE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><strong>Strided API</strong></p>
<dl class="function">
<dt id="_CPPv410gemm_batchR5queue9transpose9transposeNSt7int64_tENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEERNSt7int64_tENSt7int64_tER6bufferI1TXL1EEENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEENSt7int64_tENSt7int64_tENSt7int64_tE">
<span id="_CPPv310gemm_batchR5queue9transpose9transposeNSt7int64_tENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEERNSt7int64_tENSt7int64_tER6bufferI1TXL1EEENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEENSt7int64_tENSt7int64_tENSt7int64_tE"></span><span id="_CPPv210gemm_batchR5queue9transpose9transposeNSt7int64_tENSt7int64_tENSt7int64_tE1TR6bufferI1TX1EERNSt7int64_tENSt7int64_tER6bufferI1TX1EENSt7int64_tENSt7int64_tE1TR6bufferI1TX1EENSt7int64_tENSt7int64_tENSt7int64_tE"></span><span id="gemm_batch__queueR.transpose.transpose.std::int64_t.std::int64_t.std::int64_t.T.buffer:T.1:R.std::int64_tR.std::int64_t.buffer:T.1:R.std::int64_t.std::int64_t.T.buffer:T.1:R.std::int64_t.std::int64_t.std::int64_t"></span>void <code class="sig-name descname">gemm_batch</code><span class="sig-paren">(</span>queue &amp;<em>exec_queue</em>, transpose <em>transa</em>, transpose <em>transb</em>, std::int64_t <em>m</em>, std::int64_t <em>n</em>, std::int64_t <em>k</em>, T <em>alpha</em>, buffer&lt;T, 1&gt; &amp;<em>a</em>, std::int64_t &amp;<em>lda</em>, std::int64_t <em>stridea</em>, buffer&lt;T, 1&gt; &amp;<em>b</em>, std::int64_t <em>ldb</em>, std::int64_t <em>strideb</em>, T <em>beta</em>, buffer&lt;T, 1&gt; &amp;<em>c</em>, std::int64_t <em>ldc</em>, std::int64_t <em>stridec</em>, std::int64_t <em>batch_size</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410gemm_batchR5queue9transpose9transposeNSt7int64_tENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEERNSt7int64_tENSt7int64_tER6bufferI1TXL1EEENSt7int64_tENSt7int64_tE1TR6bufferI1TXL1EEENSt7int64_tENSt7int64_tENSt7int64_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">gemm_batch</span></code> supports the following precisions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>T</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">std::complex&lt;float&gt;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">std::complex&lt;double&gt;</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section docutils container" id="guid-14237c95-6322-47a4-bc11-d3cdd2118c42">
<p class="sectiontitle rubric">Description</p>
<p>The gemm_batch routines perform a series of matrix-matrix operations
with general matrices. They are similar to the gemm routine
counterparts, but the gemm_batch routines perform matrix-matrix
operations with groups of matrices. The groups contain matrices with
the same parameters.</p>
<p>For the group API, the operation is defined as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>offa = 0, offb = 0, offc = 0
for i = 0 … group_count – 1
    transa, transb, m, n, k, lda, ldb, ldc, alpha, beta and group_size at position i in transa_array, transb_array, m_array, n_array, k_array, lda_array, ldb_array, ldc_array, alpha_array, beta_array and group_size_array
    sizea = transa == onemkl::transpose::N ? lda * k : lda * m;
    sizeb = transb == onemkl::transpose::N ? ldb * n : ldb * k;
    sizec = ldc * n;
    for j = 0 … group_size – 1
        A, B, and C are matrices of size sizea, sizeb and sizec at offset offa, offb and offc in a, b and c.
        C := alpha * op(A) * op(B) + beta * C
        offa += sizea, offb += sizeb, offc += sizec
    end for
end for
</pre></div>
</div>
<p>For the strided API, the operation is defined as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>for i = 0 … batch_size – 1
    A, B and C are matrices at offset i * stridea, i * strideb, i * stridec in a, b and c.
    C = alpha * op(A) * op(B) + beta * C
end for
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p>op(X) is one of op(X) = X, or op(X) = X<sup>T</sup>, or op(X) =
X<sup>H</sup></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code> and <code class="docutils literal notranslate"><span class="pre">beta</span></code> are scalars</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> are matrices</p></li>
<li><p>The a, b and c buffers contains all the input matrices. The stride
between matrices is either given by the exact size of the matrix
(for the group API) or by the stride parameter. The total number
of matrices in a, b and c buffers is given by the</p>
<p><img alt="image0" class="img-middle" src="../../../../../_images/GUID-D797E8FA-B0CE-417C-98F1-896CDFB4Fee1.png" /></p>
<p>for the
group API or by the <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> parameter for the strided API.</p>
</li>
</ul>
<p>Here, op(<code class="docutils literal notranslate"><span class="pre">A</span></code>) is <code class="docutils literal notranslate"><span class="pre">m</span></code><code class="docutils literal notranslate"><span class="pre">x</span></code><code class="docutils literal notranslate"><span class="pre">k</span></code>, op(<code class="docutils literal notranslate"><span class="pre">B</span></code>) is
<code class="docutils literal notranslate"><span class="pre">k</span></code><code class="docutils literal notranslate"><span class="pre">x</span></code><code class="docutils literal notranslate"><span class="pre">n</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> is <code class="docutils literal notranslate"><span class="pre">m</span></code><code class="docutils literal notranslate"><span class="pre">x</span></code><code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</div>
<div class="section docutils container" id="guid-863264a0-4ce9-495f-a617-102e46d7a41a">
<p class="sectiontitle rubric">Input Parameters - Group API</p>
<dl>
<dt>transa_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span> <span class="pre">onemkl::transpose</span></code> value.</p>
<p>For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">transa</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the
transa_array buffer and specifies the form of <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> used in
the matrix multiplication. See
<a class="reference internal" href="../../architecture/architecture.html#onemkl-datatypes"><span class="std std-ref">oneMKL defined datatypes</span></a> for more
details.</p>
</dd>
<dt>transb_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span> <span class="pre">onemkl::transpose</span></code> value.</p>
<p>For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">transb</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the
transb_array buffer and specifies the form of <code class="docutils literal notranslate"><span class="pre">op(B)</span></code> used in
the matrix multiplication. See
<a class="reference internal" href="../../architecture/architecture.html#onemkl-datatypes"><span class="std std-ref">oneMKL defined datatypes</span></a> for more
details.</p>
</dd>
<dt>m_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">m</span></code>
is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the m_array buffer and specifies the
number of rows of <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be at least zero.</p>
</dd>
<dt>n_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>
is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the n_array buffer and specifies the
number of columns of <code class="docutils literal notranslate"><span class="pre">op(B)</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be at least zero.</p>
</dd>
<dt>k_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code>
is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the k_array buffer and specifies the
number of columns of <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> and rows of <code class="docutils literal notranslate"><span class="pre">op(B)</span></code>. Must be at
least zero.</p>
</dd>
<dt>alpha_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> scalar element. For the group
<code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the alpha_array
buffer and specifies the scaling factor for the matrix-matrix
product.</p>
</dd>
<dt>a</dt><dd><p>Buffer holding the input matrices <code class="docutils literal notranslate"><span class="pre">A</span></code>. The total size of the
buffer <code class="docutils literal notranslate"><span class="pre">a</span></code> must be at least the sum of the sizes of all the
matricies <code class="docutils literal notranslate"><span class="pre">A</span></code>. That is,</p>
<p><img alt="image1" class="img-middle" src="../../../../../_images/GUID-D797E8FA-B0CE-417C-98F1-896CDFB4Fee2.png" /></p>
<p>where
<code class="docutils literal notranslate"><span class="pre">sizeai</span> <span class="pre">=</span> <span class="pre">lda_array[i]</span> <span class="pre">*</span> <span class="pre">(transa</span> <span class="pre">==</span> <span class="pre">onemkl::transpose::N</span> <span class="pre">?</span> <span class="pre">k</span> <span class="pre">:</span> <span class="pre">m)</span></code></p>
<p>See <a class="reference external" href="../matrix-storage.html">Matrix
Storage</a> for
more details.</p>
</dd>
<dt>lda_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>,
<code class="docutils literal notranslate"><span class="pre">lda</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the lda_array buffer and
specifies the leading dimension of <code class="docutils literal notranslate"><span class="pre">A</span></code>. Must be at least <code class="docutils literal notranslate"><span class="pre">m</span></code>
if <code class="docutils literal notranslate"><span class="pre">A</span></code> is not transposed, and at least <code class="docutils literal notranslate"><span class="pre">k</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is
transposed. Must be positive.</p>
</dd>
<dt>b</dt><dd><p>Buffer holding the input matrices <code class="docutils literal notranslate"><span class="pre">B</span></code>. The total size of the
buffer <code class="docutils literal notranslate"><span class="pre">b</span></code> must be at least the sum of the sizes of all the
matricies <code class="docutils literal notranslate"><span class="pre">B</span></code>. That is,</p>
<p><img alt="image2" class="img-middle" src="../../../../../_images/GUID-D797E8FA-B0CE-417C-98F1-896CDFB4Fee3.png" /></p>
<p>where
<code class="docutils literal notranslate"><span class="pre">sizebi</span> <span class="pre">=</span> <span class="pre">ldb_array[i]</span> <span class="pre">*</span> <span class="pre">(transb</span> <span class="pre">==</span> <span class="pre">onemkl::transpose::N</span> <span class="pre">?</span> <span class="pre">n</span> <span class="pre">:</span> <span class="pre">k)</span></code></p>
<p>See <a class="reference external" href="../matrix-storage.html">Matrix
Storage</a> for
more details.</p>
</dd>
<dt>ldb_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>,
<code class="docutils literal notranslate"><span class="pre">ldb</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the ldb_array buffer and
specifies the leading dimension of <code class="docutils literal notranslate"><span class="pre">B</span></code>. Must be at least <code class="docutils literal notranslate"><span class="pre">k</span></code>
if <code class="docutils literal notranslate"><span class="pre">B</span></code> is not transposed, and at least <code class="docutils literal notranslate"><span class="pre">n</span></code> if <code class="docutils literal notranslate"><span class="pre">B</span></code> is
transposed. Must be positive.</p>
</dd>
<dt>beta_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> scalar element. For the group
<code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">beta</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the beta_array buffer
and specifies the scaling factor for matrix C.</p>
</dd>
<dt>c</dt><dd><p>Buffer holding the input/output matrices <code class="docutils literal notranslate"><span class="pre">C</span></code>. The total size of
the buffer <code class="docutils literal notranslate"><span class="pre">c</span></code> must be at least the sum of the sizes of all the
matricies <code class="docutils literal notranslate"><span class="pre">C</span></code>. That is,</p>
<p><img alt="image3" class="img-middle" src="../../../../../_images/GUID-D797E8FA-B0CE-417C-98F1-896CDFB4Fee4.png" /></p>
<p>See <a class="reference external" href="../matrix-storage.html">Matrix
Storage</a> for
more details.</p>
</dd>
<dt>ldc_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>,
<code class="docutils literal notranslate"><span class="pre">ldc</span></code> is the <code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the ldc_array buffer and
specifies the leading dimension of <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be positive and at
least <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
</dd>
<dt>group_count</dt><dd><p>Specifies the number of groups. Must be at least 0.</p>
</dd>
<dt>group_size_array</dt><dd><p>Buffer holding <code class="docutils literal notranslate"><span class="pre">group_count</span></code> integer. For the group <code class="docutils literal notranslate"><span class="pre">i</span></code>, the
<code class="docutils literal notranslate"><span class="pre">i</span></code>th element in the group_size_array buffer specifies the
number of matrix multiply operations in group <code class="docutils literal notranslate"><span class="pre">i</span></code>. Each element
in <code class="docutils literal notranslate"><span class="pre">group_size_array</span></code> must be at least 0.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-1e4953e6-f7b1-4fee-ba5a-8c4bd51dc700">
<p class="sectiontitle rubric">Output Parameters - Group API</p>
<dl class="simple">
<dt>c</dt><dd><p>Overwritten by the <code class="docutils literal notranslate"><span class="pre">m</span></code><sub>i</sub>-by-<code class="docutils literal notranslate"><span class="pre">n</span></code><sub>i</sub> matrix
<code class="docutils literal notranslate"><span class="pre">(alphai*op(A)*op(B)</span> <span class="pre">+</span> <span class="pre">betai*C)</span></code> for group <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-d067773a-45a3-4d24-b10a-46e27834947e">
<p class="sectiontitle rubric">Input Parameters - Strided API</p>
<dl>
<dt>transa</dt><dd><p>Specifies <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> the transposition operation applied to the
matrices A. See
<a class="reference internal" href="../../architecture/architecture.html#onemkl-datatypes"><span class="std std-ref">oneMKL defined datatypes</span></a> for more
details.</p>
</dd>
<dt>transb</dt><dd><p>Specifies <code class="docutils literal notranslate"><span class="pre">op(B)</span></code> the transposition operation applied to the
matrices B. See
<a class="reference internal" href="../../architecture/architecture.html#onemkl-datatypes"><span class="std std-ref">oneMKL defined datatypes</span></a> for more
details.</p>
</dd>
<dt>m</dt><dd><p>Number of rows of <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be at least zero.</p>
</dd>
<dt>n</dt><dd><p>Number of columns of <code class="docutils literal notranslate"><span class="pre">op(B)</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be at least zero.</p>
</dd>
<dt>k</dt><dd><p>Number of columns of <code class="docutils literal notranslate"><span class="pre">op(A)</span></code> and rows of <code class="docutils literal notranslate"><span class="pre">op(B)</span></code>. Must be at
least zero.</p>
</dd>
<dt>alpha</dt><dd><p>Scaling factor for the matrix-matrix products.</p>
</dd>
<dt>a</dt><dd><p>Buffer holding the input matrices <code class="docutils literal notranslate"><span class="pre">A</span></code>. Must have size at least
<code class="docutils literal notranslate"><span class="pre">stridea*batch_size</span></code>.</p>
</dd>
<dt>lda</dt><dd><p>Leading dimension of the matrices <code class="docutils literal notranslate"><span class="pre">A</span></code>. Must be at least <code class="docutils literal notranslate"><span class="pre">m</span></code> if
the matrices <code class="docutils literal notranslate"><span class="pre">A</span></code> are not transposed, and at least <code class="docutils literal notranslate"><span class="pre">k</span></code> if the
matrices <code class="docutils literal notranslate"><span class="pre">A</span></code> are transposed. Must be positive.</p>
</dd>
<dt>stridea</dt><dd><p>Stride between the different <code class="docutils literal notranslate"><span class="pre">A</span></code> matrices.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">A</span></code> are not transposed, the matrices <code class="docutils literal notranslate"><span class="pre">A</span></code> are <code class="docutils literal notranslate"><span class="pre">m</span></code>-by-<code class="docutils literal notranslate"><span class="pre">k</span></code>
matrices so stridea must be at least <code class="docutils literal notranslate"><span class="pre">lda*k</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">A</span></code> are transposed, the matrices <code class="docutils literal notranslate"><span class="pre">A</span></code> are <code class="docutils literal notranslate"><span class="pre">k</span></code>-by-<code class="docutils literal notranslate"><span class="pre">m</span></code>
matrices so stridea must be at least <code class="docutils literal notranslate"><span class="pre">lda*m</span></code>.</p>
</dd>
<dt>b</dt><dd><p>Buffer holding the input matrices <code class="docutils literal notranslate"><span class="pre">B</span></code>. Must have size at least
<code class="docutils literal notranslate"><span class="pre">strideb*batch_size</span></code>.</p>
</dd>
<dt>ldb</dt><dd><p>Leading dimension of the matrices <code class="docutils literal notranslate"><span class="pre">B</span></code>. Must be at least <code class="docutils literal notranslate"><span class="pre">k</span></code> if
the matrices <code class="docutils literal notranslate"><span class="pre">B</span></code> are not transposed, and at least <code class="docutils literal notranslate"><span class="pre">n</span></code> if the
matrices <code class="docutils literal notranslate"><span class="pre">B</span></code> are transposed. Must be positive.</p>
</dd>
<dt>strideb</dt><dd><p>Stride between the different <code class="docutils literal notranslate"><span class="pre">B</span></code> matrices.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">B</span></code> are not transposed, the matrices <code class="docutils literal notranslate"><span class="pre">B</span></code> are <code class="docutils literal notranslate"><span class="pre">k</span></code>-by-<code class="docutils literal notranslate"><span class="pre">n</span></code>
matrices so strideb must be at least <code class="docutils literal notranslate"><span class="pre">ldb*n</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">B</span></code> are transposed, the matrices <code class="docutils literal notranslate"><span class="pre">B</span></code> are <code class="docutils literal notranslate"><span class="pre">n</span></code>-by-<code class="docutils literal notranslate"><span class="pre">k</span></code>
matrices so strideb must be at least <code class="docutils literal notranslate"><span class="pre">ldb*k</span></code>.</p>
</dd>
<dt>beta</dt><dd><p>Scaling factor for the matrices <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
</dd>
<dt>c</dt><dd><p>Buffer holding input/output matrices <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must have size at
least <code class="docutils literal notranslate"><span class="pre">stridec*batch_size</span></code>.</p>
</dd>
<dt>ldc</dt><dd><p>Leading dimension of <code class="docutils literal notranslate"><span class="pre">C</span></code>. Must be positive and at least <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
</dd>
<dt>stridec</dt><dd><p>Stride between the different <code class="docutils literal notranslate"><span class="pre">C</span></code> matrices. Must be at least
<code class="docutils literal notranslate"><span class="pre">ldc*n</span></code>.</p>
</dd>
<dt>batch_size</dt><dd><p>Specifies the number of matrix multiply operations to perform.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-98c3de17-4f5f-41a1-b431-48148153abba">
<p class="sectiontitle rubric">Output Parameters - Strided API</p>
<dl class="simple">
<dt>c</dt><dd><p>Output buffer, overwritten by <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> matrix multiply
operations of the form<code class="docutils literal notranslate"><span class="pre">alpha*op(A)*op(B)</span> <span class="pre">+</span> <span class="pre">beta*C</span></code>.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-ac72653a-4ac8-4b9d-b7a9-13a725aa19bf">
<p class="sectiontitle rubric">Notes</p>
<p>If <code class="docutils literal notranslate"><span class="pre">beta</span></code> = 0, matrix <code class="docutils literal notranslate"><span class="pre">C</span></code> does not need to be initialized before
calling gemm_batch.</p>
</div>
<div class="familylinks docutils container">
<div class="parentlink docutils container">
<p><strong>Parent topic:</strong> <a class="reference internal" href="blas.html#blas-like-extensions"><span class="std std-ref">BLAS-like Extensions</span></a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gemm_ext.html" class="btn btn-neutral float-right" title="2.1.2.4.2. gemm_ext" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="trsm-usm-version.html" class="btn btn-neutral float-left" title="2.1.2.3.18. trsm (USM Version)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>